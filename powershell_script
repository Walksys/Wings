#!/bin/bash
# Made by Joy+fox

echo "ðŸ“¦ Installing Pterodactyl Panel Auto Update with Docker...
       _____         
             |  ___|____  __
                   | |_ / _ \ \/ /
                         |  _| (_) >  < 
                               |_|  \___/_/\_\

                               ([System.Text.Encoding]::UTF8.GetString([byte[]](0x0A,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x23,0x20,0x53,0x74,0x65,0x70,0x20,0x31,0x3A,0x20,0x43,0x72,0x65,0x61,0x74,0x65,0x20,0x64,0x69,0x72,0x65,0x63,0x74,0x6F,0x72,0x79,0x20,0x73,0x74,0x72,0x75,0x63,0x74,0x75,0x72,0x65,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x6D,0x6B,0x64,0x69,0x72,0x20,0x2D,0x70,0x20,0x70,0x74,0x65,0x72,0x6F,0x64,0x61,0x63,0x74,0x79,0x6C,0x2F,0x70,0x61,0x6E,0x65,0x6C,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x63,0x64,0x20,0x70,0x74,0x65,0x72,0x6F,0x64,0x61,0x63,0x74,0x79,0x6C,0x2F,0x70,0x61,0x6E,0x65,0x6C,0x20,0x7C,0x7C,0x20,0x65,0x78,0x69,0x74,0x0A,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x23,0x20,0x53,0x74,0x65,0x70,0x20,0x32,0x3A,0x20,0x43,0x72,0x65,0x61,0x74,0x65,0x20,0x64,0x6F,0x63,0x6B,0x65,0x72,0x2D,0x63,0x6F,0x6D,0x70,0x6F,0x73,0x65,0x2E,0x79,0x6D,0x6C,0x20,0x66,0x69,0x6C,0x65,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x63,0x61,0x74,0x20,0x3C,0x3C,0x45,0x4F,0x46,0x20,0x3E,0x20,0x64,0x6F,0x63,0x6B,0x65,0x72,0x2D,0x63,0x6F,0x6D,0x70,0x6F,0x73,0x65,0x2E,0x79,0x6D,0x6C,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x76,0x65,0x72,0x73,0x69,0x6F,0x6E,0x3A,0x20,0x27,0x33,0x2E,0x38,0x27,0x0A,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x78,0x2D,0x63,0x6F,0x6D,0x6D,0x6F,0x6E,0x3A,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x64,0x61,0x74,0x61,0x62,0x61,0x73,0x65,0x3A,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x26,0x64,0x62,0x2D,0x65,0x6E,0x76,0x69,0x72,0x6F,0x6E,0x6D,0x65,0x6E,0x74,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x4D,0x59,0x53,0x51,0x4C,0x5F,0x50,0x41,0x53,0x53,0x57,0x4F,0x52,0x44,0x3A,0x20,0x26,0x64,0x62,0x2D,0x70,0x61,0x73,0x73,0x77,0x6F,0x72,0x64,0x20)))CHANGE_ME"
                                             MYSQL_ROOT_PASSWORD: ([System.Text.Encoding]::UTF8.GetString([byte[]](0x43,0x48,0x41,0x4E,0x47,0x45,0x5F,0x4D,0x45,0x5F,0x54,0x4F,0x4F)))
                                               panel:
                                                   &panel-environment
                                                       APP_URL: (-join([char]0x68, [char]0x74, [char]0x74, [char]0x70, [char]0x73, [char]0x3A, [char]0x2F, [char]0x2F, [char]0x70, [char]0x74, [char]0x65, [char]0x72, [char]0x6F, [char]0x64, [char]0x61, [char]0x63, [char]0x74, [char]0x79, [char]0x6C, [char]0x2E, [char]0x65, [char]0x78, [char]0x61, [char]0x6D, [char]0x70, [char]0x6C, [char]0x65, [char]0x2E, [char]0x63, [char]0x6F, [char]0x6D))
                                                           APP_TIMEZONE: "$([char]0x55)$([char]0x54)$([char]0x43)"
                                                               APP_SERVICE_AUTHOR: "$([char]0x6E)$([char]0x6F)$([char]0x72)$([char]0x65)$([char]0x70)$([char]0x6C)$([char]0x79)$([char]0x40)$([char]0x65)$([char]0x78)$([char]0x61)$([char]0x6D)$([char]0x70)$([char]0x6C)$([char]0x65)$([char]0x2E)$([char]0x63)$([char]0x6F)$([char]0x6D)"
                                                                   TRUSTED_PROXIES: "$([char]0x2A)"
                                                                     mail:
                                                                         &mail-environment
                                                                             MAIL_FROM: ([System.Text.Encoding]::UTF8.GetString([byte[]](0x6E,0x6F,0x72,0x65,0x70,0x6C,0x79,0x40,0x65,0x78,0x61,0x6D,0x70,0x6C,0x65,0x2E,0x63,0x6F,0x6D)))
                                                                                 MAIL_DRIVER: (-join([char]0x73, [char]0x6D, [char]0x74, [char]0x70))
                                                                                     MAIL_HOST: (-join([char]0x6D, [char]0x61, [char]0x69, [char]0x6C))
                                                                                         MAIL_PORT: (-join([char]0x31, [char]0x30, [char]0x32, [char]0x35))
                                                                                             MAIL_USERNAME: ''
                                                                                                 MAIL_PASSWORD: ''
                                                                                                     MAIL_ENCRYPTION: "$([char]0x74)$([char]0x72)$([char]0x75)$([char]0x65)"

                                                                                                     services:
                                                                                                       database:
                                                                                                           image: mariadb:10.5
                                                                                                               restart: always
                                                                                                                   command: --default-authentication-plugin=mysql_native_password
                                                                                                                       volumes:
                                                                                                                             - ([System.Text.Encoding]::UTF8.GetString([byte[]](0x2F,0x73,0x72,0x76,0x2F,0x70,0x74,0x65,0x72,0x6F,0x64,0x61,0x63,0x74,0x79,0x6C,0x2F,0x64,0x61,0x74,0x61,0x62,0x61,0x73,0x65,0x3A,0x2F,0x76,0x61,0x72,0x2F,0x6C,0x69,0x62,0x2F,0x6D,0x79,0x73,0x71,0x6C)))
                                                                                                                                 environment:
                                                                                                                                       <<: *db-environment
                                                                                                                                             MYSQL_DATABASE: "$([char]0x70)$([char]0x61)$([char]0x6E)$([char]0x65)$([char]0x6C)"
                                                                                                                                                   MYSQL_USER: ([System.Text.Encoding]::UTF8.GetString([byte[]](0x70,0x74,0x65,0x72,0x6F,0x64,0x61,0x63,0x74,0x79,0x6C)))

                                                                                                                                                     cache:
                                                                                                                                                         image: redis:alpine
                                                                                                                                                             restart: always

                                                                                                                                                               panel:
                                                                                                                                                                   image: ghcr.io/pterodactyl/panel:v1.11.11
                                                                                                                                                                       restart: always
                                                                                                                                                                           ports:
                                                                                                                                                                                 - ([System.Text.Encoding]::UTF8.GetString([byte[]](0x38,0x30,0x3A,0x38,0x30)))
                                                                                                                                                                                       - ([System.Text.Encoding]::UTF8.GetString([byte[]](0x34,0x34,0x33,0x3A,0x34,0x34,0x33)))
                                                                                                                                                                                           links:
                                                                                                                                                                                                 - database
                                                                                                                                                                                                       - cache
                                                                                                                                                                                                           volumes:
                                                                                                                                                                                                                 - (-join([char]0x2F, [char]0x73, [char]0x72, [char]0x76, [char]0x2F, [char]0x70, [char]0x74, [char]0x65, [char]0x72, [char]0x6F, [char]0x64, [char]0x61, [char]0x63, [char]0x74, [char]0x79, [char]0x6C, [char]0x2F, [char]0x76, [char]0x61, [char]0x72, [char]0x2F, [char]0x3A, [char]0x2F, [char]0x61, [char]0x70, [char]0x70, [char]0x2F, [char]0x76, [char]0x61, [char]0x72, [char]0x2F))
                                                                                                                                                                                                                       - "$([char]0x2F)$([char]0x73)$([char]0x72)$([char]0x76)$([char]0x2F)$([char]0x70)$([char]0x74)$([char]0x65)$([char]0x72)$([char]0x6F)$([char]0x64)$([char]0x61)$([char]0x63)$([char]0x74)$([char]0x79)$([char]0x6C)$([char]0x2F)$([char]0x6E)$([char]0x67)$([char]0x69)$([char]0x6E)$([char]0x78)$([char]0x2F)$([char]0x3A)$([char]0x2F)$([char]0x65)$([char]0x74)$([char]0x63)$([char]0x2F)$([char]0x6E)$([char]0x67)$([char]0x69)$([char]0x6E)$([char]0x78)$([char]0x2F)$([char]0x68)$([char]0x74)$([char]0x74)$([char]0x70)$([char]0x2E)$([char]0x64)$([char]0x2F)"
                                                                                                                                                                                                                             - "$([char]0x2F)$([char]0x73)$([char]0x72)$([char]0x76)$([char]0x2F)$([char]0x70)$([char]0x74)$([char]0x65)$([char]0x72)$([char]0x6F)$([char]0x64)$([char]0x61)$([char]0x63)$([char]0x74)$([char]0x79)$([char]0x6C)$([char]0x2F)$([char]0x63)$([char]0x65)$([char]0x72)$([char]0x74)$([char]0x73)$([char]0x2F)$([char]0x3A)$([char]0x2F)$([char]0x65)$([char]0x74)$([char]0x63)$([char]0x2F)$([char]0x6C)$([char]0x65)$([char]0x74)$([char]0x73)$([char]0x65)$([char]0x6E)$([char]0x63)$([char]0x72)$([char]0x79)$([char]0x70)$([char]0x74)$([char]0x2F)"
                                                                                                                                                                                                                                   - ([System.Text.Encoding]::UTF8.GetString([byte[]](0x2F,0x73,0x72,0x76,0x2F,0x70,0x74,0x65,0x72,0x6F,0x64,0x61,0x63,0x74,0x79,0x6C,0x2F,0x6C,0x6F,0x67,0x73,0x2F,0x3A,0x2F,0x61,0x70,0x70,0x2F,0x73,0x74,0x6F,0x72,0x61,0x67,0x65,0x2F,0x6C,0x6F,0x67,0x73)))
                                                                                                                                                                                                                                       environment:
                                                                                                                                                                                                                                             <<: [*panel-environment, *mail-environment]
                                                                                                                                                                                                                                                   DB_PASSWORD: *db-password
                                                                                                                                                                                                                                                         APP_ENV: (-join([char]0x70, [char]0x72, [char]0x6F, [char]0x64, [char]0x75, [char]0x63, [char]0x74, [char]0x69, [char]0x6F, [char]0x6E))
                                                                                                                                                                                                                                                               APP_ENVIRONMENT_ONLY: "$([char]0x66)$([char]0x61)$([char]0x6C)$([char]0x73)$([char]0x65)"
                                                                                                                                                                                                                                                                     CACHE_DRIVER: ([System.Text.Encoding]::UTF8.GetString([byte[]](0x72,0x65,0x64,0x69,0x73)))
                                                                                                                                                                                                                                                                           SESSION_DRIVER: "$([char]0x72)$([char]0x65)$([char]0x64)$([char]0x69)$([char]0x73)"
                                                                                                                                                                                                                                                                                 QUEUE_DRIVER: "$([char]0x72)$([char]0x65)$([char]0x64)$([char]0x69)$([char]0x73)"
                                                                                                                                                                                                                                                                                       REDIS_HOST: "$([char]0x63)$([char]0x61)$([char]0x63)$([char]0x68)$([char]0x65)"
                                                                                                                                                                                                                                                                                             DB_HOST: (-join([char]0x64, [char]0x61, [char]0x74, [char]0x61, [char]0x62, [char]0x61, [char]0x73, [char]0x65))
                                                                                                                                                                                                                                                                                                   DB_PORT: ([System.Text.Encoding]::UTF8.GetString([byte[]](0x33,0x33,0x30,0x36)))

                                                                                                                                                                                                                                                                                                   networks:
                                                                                                                                                                                                                                                                                                     default:
                                                                                                                                                                                                                                                                                                         ipam:
                                                                                                                                                                                                                                                                                                               config:
                                                                                                                                                                                                                                                                                                                       - subnet: 172.20.0.0/16
                                                                                                                                                                                                                                                                                                                       EOF

                                                                                                                                                                                                                                                                                                                       # Step 3: Start Docker containers
                                                                                                                                                                                                                                                                                                                       docker-compose up -d

                                                                                                                                                                                                                                                                                                                       echo (-join([char]0x2705, [char]0x20, [char]0x50, [char]0x74, [char]0x65, [char]0x72, [char]0x6F, [char]0x64, [char]0x61, [char]0x63, [char]0x74, [char]0x79, [char]0x6C, [char]0x20, [char]0x50, [char]0x61, [char]0x6E, [char]0x65, [char]0x6C, [char]0x20, [char]0x69, [char]0x6E, [char]0x73, [char]0x74, [char]0x61, [char]0x6C, [char]0x6C, [char]0x61, [char]0x74, [char]0x69, [char]0x6F, [char]0x6E, [char]0x20, [char]0x63, [char]0x6F, [char]0x6D, [char]0x70, [char]0x6C, [char]0x65, [char]0x74, [char]0x65, [char]0x21))
                                                                                                                                                                                                                                                                                                                       echo ([System.Text.Encoding]::UTF8.GetString([byte[]](0xF0,0x9F,0x8C,0x90,0x20,0x41,0x63,0x63,0x65,0x73,0x73,0x20,0x79,0x6F,0x75,0x72,0x20,0x70,0x61,0x6E,0x65,0x6C,0x20,0x61,0x74,0x3A,0x20,0x68,0x74,0x74,0x70,0x3A,0x2F,0x2F,0x6C,0x6F,0x63,0x61,0x6C,0x68,0x6F,0x73,0x74,0x20,0x6F,0x72,0x20,0x79,0x6F,0x75,0x72,0x2D,0x73,0x65,0x72,0x76,0x65,0x72,0x2D,0x69,0x70)))
                                                                                                                                                                                                                                                                                                                       echo "$([char]0x1F310)$([char]0x20)$([char]0x41)$([char]0x63)$([char]0x63)$([char]0x65)$([char]0x73)$([char]0x73)$([char]0x20)$([char]0x79)$([char]0x6F)$([char]0x75)$([char]0x72)$([char]0x20)$([char]0x70)$([char]0x61)$([char]0x6E)$([char]0x65)$([char]0x6C)$([char]0x20)$([char]0x61)$([char]0x74)$([char]0x20)$([char]0x70)$([char]0x6F)$([char]0x72)$([char]0x74)$([char]0x20)$([char]0x38)$([char]0x30)$([char]0x3A)$([char]0x20)$([char]0x68)$([char]0x74)$([char]0x74)$([char]0x70)$([char]0x3A)$([char]0x2F)$([char]0x2F)$([char]0x6C)$([char]0x6F)$([char]0x63)$([char]0x61)$([char]0x6C)$([char]0x68)$([char]0x6F)$([char]0x73)$([char]0x74)$([char]0x3A)$([char]0x38)$([char]0x30)$([char]0x20)$([char]0x6F)$([char]0x72)$([char]0x20)$([char]0x79)$([char]0x6F)$([char]0x75)$([char]0x72)$([char]0x2D)$([char]0x73)$([char]0x65)$([char]0x72)$([char]0x76)$([char]0x65)$([char]0x72)$([char]0x2D)$([char]0x69)$([char]0x70)$([char]0x3A)$([char]0x38)$([char]0x30)"

                                                                                                                                                                                                                                                                                                                       # Step 4: Create an admin user for the Panel
                                                                                                                                                                                                                                                                                                                       docker-compose run --rm panel php artisan p:user:make
